<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://unpkg.com/tone@14.7.77/build/Tone.js"></script>
    <link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css"
/>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
      <button type="button" name="button" id="play">play</button>
      <button type="button" name="button" id="pause">pause</button>
      <!-- <input type="range" id="volume"> -->
      <input type="range" id="volumeA" min="-30" max="0">
      <input type="range" id="volumeB" min="-30" max="0">

    <script type="text/javascript">

    const crossFade = new Tone.CrossFade(0.5).toDestination();
    var inputA = new Tone.Player("iwannadancewithsomebody-Original.mp3").toDestination();
    inputA.connect(crossFade.a);

    var inputB = new Tone.Player("./iwannadancewithsomebody-808Pattern.mp3").toDestination();
    inputB.connect(crossFade.b);

    var play = document.getElementById('play');
    var pause = document.getElementById('pause');

    play.addEventListener("click",function(){
      // connect two inputs Tone.to a/b
      Tone.loaded().then(() => {
        inputA.start();
        inputB.start();
      });

      // use the fade to control the mix between the two
    })
    pause.addEventListener("click",function(){
      // connect two inputs Tone.to a/b
      inputA.stop();
      inputB.stop();
      // use the fade to control the mix between the two
    })

    // var vol = document.getElementById('volume');
    // vol.addEventListener("input",function(e){
    //   console.log(e.target.value/100);
    //   crossFade.fade.value = e.target.value/100;
    // })
    var volA = document.getElementById('volumeA');
    volA.addEventListener("input",function(e){
      console.log(e.target.value);
      inputA.volume.value = e.target.value;
    })
    var volB = document.getElementById('volumeB');
    volB.addEventListener("input",function(e){
      console.log(e.target.value);
      inputB.volume.value = e.target.value;
      inputA.volume.value = -30 - e.target.value
    })

    </script>
  </body>
</html>
